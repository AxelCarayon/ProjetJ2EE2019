<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Shop Homepage</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <!-- Custom styles for this template -->
        <link href="css/shop-homepage.css" rel="stylesheet">
        <link href="css/svgicons.css" rel="stylesheet">
        <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
            <div class="container-fluid">
                <!-- Logo -->
                <img class="navbar-brand" src="images/logo.png" href="#"/>
                <!-- Recherche -->
                <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                    <!--<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>-->
                </form>
                <!-- user -->
                <div class="nav-item" id="menu_connexion">
                    <a href="views/profil.html">
                        <svg class="svg-icon" viewBox="0 0 20 20">
                        <path d="M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z"></path>
                        </svg></a>
                    <!--   <span class="text-sm ml-2 ml-lg-0 text-uppercase text-sm font-weight-bold d-none d-sm-inline d-lg-none"></span>-->
                    <!-- your badge -->
                    <!-- <span class="badge badge-pill badge-primary" style="float:right;margin-bottom:-10px;">1</span> -->
                </div>
                <!-- Mobile -->
                <!-- Shop -->
                <div class="d-lg-none d-xl-none nav-item dropdown" >
                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <svg class="svg-icon" viewBox="0 0 20 20">
                    <path fill="none" d="M17.671,13.945l0.003,0.002l1.708-7.687l-0.008-0.002c0.008-0.033,0.021-0.065,0.021-0.102c0-0.236-0.191-0.428-0.427-0.428H5.276L4.67,3.472L4.665,3.473c-0.053-0.175-0.21-0.306-0.403-0.306H1.032c-0.236,0-0.427,0.191-0.427,0.427c0,0.236,0.191,0.428,0.427,0.428h2.902l2.667,9.945l0,0c0.037,0.119,0.125,0.217,0.239,0.268c-0.16,0.26-0.257,0.562-0.257,0.891c0,0.943,0.765,1.707,1.708,1.707S10,16.068,10,15.125c0-0.312-0.09-0.602-0.237-0.855h4.744c-0.146,0.254-0.237,0.543-0.237,0.855c0,0.943,0.766,1.707,1.708,1.707c0.944,0,1.709-0.764,1.709-1.707c0-0.328-0.097-0.631-0.257-0.891C17.55,14.182,17.639,14.074,17.671,13.945 M15.934,6.583h2.502l-0.38,1.709h-2.312L15.934,6.583zM5.505,6.583h2.832l0.189,1.709H5.963L5.505,6.583z M6.65,10.854L6.192,9.146h2.429l0.19,1.708H6.65z M6.879,11.707h2.027l0.189,1.709H7.338L6.879,11.707z M8.292,15.979c-0.472,0-0.854-0.383-0.854-0.854c0-0.473,0.382-0.855,0.854-0.855s0.854,0.383,0.854,0.855C9.146,15.596,8.763,15.979,8.292,15.979 M11.708,13.416H9.955l-0.189-1.709h1.943V13.416z M11.708,10.854H9.67L9.48,9.146h2.228V10.854z M11.708,8.292H9.386l-0.19-1.709h2.512V8.292z M14.315,13.416h-1.753v-1.709h1.942L14.315,13.416zM14.6,10.854h-2.037V9.146h2.227L14.6,10.854z M14.884,8.292h-2.321V6.583h2.512L14.884,8.292z M15.978,15.979c-0.471,0-0.854-0.383-0.854-0.854c0-0.473,0.383-0.855,0.854-0.855c0.473,0,0.854,0.383,0.854,0.855C16.832,15.596,16.45,15.979,15.978,15.979 M16.917,13.416h-1.743l0.189-1.709h1.934L16.917,13.416z M15.458,10.854l0.19-1.708h2.218l-0.38,1.708H15.458z"></path>
                    </svg></a>
                <!-- Cart Dropdown-->
                  
                  <div aria-labelledby="cartdetails" class="dropdown-menu dropdown-menu-right p-4">
                    <div class="navbar-cart-product-wrapper panierForMobil">
                        <!--- TEMPLATE -->
                    </div>
                    <!-- total price-->
                    <div class="navbar-cart-total">
                        <span class="text-uppercase text-muted">Total</span>
                        <strong class="text-uppercase" id="displayprixTotal"></strong>€
                        <a  href="#" class="float-right" onclick="commander()">Payer</i></a>
                    </div>
                  </div>
              </div>
              
               
                <!-- Menu catégorie produit -->
                <div class="nav-item dropleft d-lg-none d-xl-none">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <svg class="svg-icon" viewBox="0 0 20 20">
                        <path fill="none" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314
                              c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743
                              s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314
                              c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path>
                        </svg>
                    </a>
                    <div class="dropdown-menu" id="displayMenuMob" aria-labelledby="navbarDropdownMenuLink">
                        <!-- template -->
                    </div>
                </div>
            </div>
        </nav>

        <!-- menu desktop catégories produit -->
        <div class="menuCat navbar navbar-light bg-light d-none d-lg-block fixed-top ">
            <div class="row justify-content-center" id="displayMenu">
                <!-- Template -->
            </div>
        </div>

        <!-- Page Content -->
        <div class="container pageContent">
            <div class="row">
                <!--Grid produits--> 
                <div class="col-lg-9">
                    <div class="row" id="displayProd">
                        <!--template--> 
                    </div>
                </div>
                <!--Block pannier--> 
                <div class="col-lg-3 d-none d-lg-block" id='displayBlockPanier'>
                </div>
            </div>
        </div>
        <!-- Footer -->
        <footer class="py-5 bg-dark">
            <div class="container">
                <p class="m-0 text-center text-white">Copyright &copy; Your Website 2019</p>
            </div>
        </footer>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.8.1/mustache.min.js"></script>
        <script
            src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script
            src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
            integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
            crossorigin="anonymous">
        </script>  
        <script src="JS/controller/panierController.js"></script>
        <script src="JS/controller/homePageController.js"></script>
        <!-- TEMPLATES -->
        <!-- homepage -->
        <script id="templateHomePage" type="text/template">
            <div class="row">
                <!-- Grid produits -->
                <div class="col-lg-9">
                    <div class="row" id="displayProd">
                        <!-- template -->
                    </div>
                </div>

                <!-- Block pannier -->
                <div class="col-lg-3 d-none d-lg-block">
                    <h1 class="my-4">Panier</h1>
                    <div class="list-group" id="displayPanier">
                        <!-- template -->
                    </div>
                    <!-- total price-->
                    <div class="cart-total"><span class="text-uppercase text-muted">Total</span><strong class="text-uppercase" id="displayprixTotal"><!--template--></strong>€</div>
                </div>
            </div>
        </script>

        <!-- card of grid product -->
        <script id="templateShowProduits" type="text/template">
            {{#produits}}
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <a href="#"><img class="card-img-top" src="https://placehold.it/700x400" alt=""></a>
                        <div class="card-body">
                            <h4 class="card-title">
                                <a href="#">{{nom}}</a>
                            </h4>
                            <span> {{ quantite_par_unite }} </span>
                        </div>
                        <div class="card-footer">
                        <span class="p-3 float-left">{{prix_unitaire}}€</span>
                            <button class="btn btn-light ajoutPanier float-right" type="button" value="{{reference}}" > 
                                <svg class="svg-icon" viewBox="0 0 20 20">
                                    <path fill="none" d="M7.93,4.509H9.62v1.689c0,0.233,0.189,0.422,0.422,0.422s0.422-0.189,0.422-0.422V4.509h1.689c0.233,0,0.423-0.189,0.423-0.422s-0.189-0.422-0.423-0.422h-1.689V1.975c0-0.233-0.189-0.422-0.422-0.422S9.62,1.742,9.62,1.975v1.689H7.93c-0.233,0-0.422,0.189-0.422,0.422S7.697,4.509,7.93,4.509 M18.489,8.311H1.595c-0.466,0-0.845,0.378-0.845,0.845V10c0,0.466,0.378,0.845,0.845,0.845h0.169l1.533,7.282l0.007-0.001c0.046,0.183,0.205,0.321,0.402,0.321h12.67c0.198,0,0.356-0.139,0.403-0.321l0.007,0.001l1.533-7.282h0.169c0.466,0,0.845-0.379,0.845-0.845V9.155C19.334,8.689,18.955,8.311,18.489,8.311 M2.626,10.845H5.53l0.266,1.689H2.982L2.626,10.845z M3.16,13.379h2.769l0.267,1.689H3.515L3.16,13.379z M4.049,17.603l-0.355-1.689h2.636l0.267,1.689H4.049z M9.62,17.603H7.441l-0.267-1.689H9.62V17.603z M9.62,15.068H7.041l-0.267-1.689H9.62V15.068z M9.62,12.534H6.641l-0.266-1.689H9.62V12.534z M12.644,17.603h-2.179v-1.689h2.446L12.644,17.603zM13.043,15.068h-2.579v-1.689h2.845L13.043,15.068z M10.464,12.534v-1.689h3.245l-0.266,1.689H10.464z M16.035,17.603h-2.548l0.268-1.689h2.636L16.035,17.603z M16.569,15.068h-2.682l0.267-1.689h2.77L16.569,15.068z M17.103,12.534h-2.814l0.267-1.689h2.903L17.103,12.534z M18.489,10H1.595V9.155h16.895V10z"></path>
                                </svg>
                             </button>
                         </div>
                    </div>
                </div>
            {{/produits}}
        </script>

        <!-- item menu catégories produit -->
        <script id="templateMenuCat" type="text/template">
            {{#categories}}
            <div class="col">
            <a class="elemtMenuCat" href="#" id="{{code}}">{{libelle}}</a>
            </div>
            {{/categories}}
        </script>

        <!-- item menu mobile catégories produit  -->
        <script id="templateMenuMobCat" type="text/template">
            {{#categories}}
            <a class="dropdown-item elemtMenuCat" id="{{code}}">{{libelle}}</a>
            {{/categories}}
        </script>
        <!-- Block panier -->
        <script id="templateBlockPanier" type="text/template">
            <h2 class="my-4 text-center">Panier <i class="fas fa-shopping-basket"></i></h2>
                  <div class="list-group" id="displayPanier">
                     <!--template--> 
                  </div>
                     <!--total price-->
                    <div class="cart-total">
                        <span class="text-uppercase text-muted">Total</span>
                        <strong class="text-uppercase" id="displayprixTotal"></strong>€
                        <a  href="#" onclick="commander()">Payer</i></a>
                    </div>
                 </div>
        </script>

        <!-- item panier  -->
        <script id="templateItemPanier" type="text/template">
            {{#items}}
                <div class="list-group-item">
                    <div class="row">
                        <div class="d-none">{{codeArticle}}</div> 
                        <span class="col-12">{{libelle}}</span> 
                        <input type="number" id="{{codeArticle}}" class="quantity col-6" name="quantity" class="info form-control input-number" value="{{qteArticle}}">
                        <span class="col-6">{{prixLigne}}€</span>
                        <div class="font-italic">Unité: {{quantite_par_unite}} {{prixArticle}}€</div>
                    </div>    
                </div>
            {{/items}}
        </script>
        <!-- Prix total panier -->
        <script id="templatePrixTotalPanier" type="text/template">
            {{prix}}
        </script>
        
        <script id="templateItemPanierMobile" type="text/template">
            {{#items}}
                <div class="navbar-cart-product"> 
                  <div class="d-flex align-items-center">
                        <div class="w-100">
                            <div class="d-none">{{codeArticle}}</div> 
                            <a href="#" id="{{codeArticle}}" class="close text-sm mr-2"><i class="fa fa-times"></i></a>
                            <div class="pl-3 row"> 
                                <span class="col-12">{{libelle}}</span> 
                                <input type="number" min="1" id="{{codeArticle}}" class="quantity col-6" name="quantity" class="info form-control input-number" value="{{qteArticle}}">
                                <span class="col-6">{{prixLigne}}€</span>
                                <div class="font-italic">Unité: {{quantite_par_unite}} {{prixArticle}}€</div>
                            </div>
                        </div>
                  </div>
                </div>
            {{/items}}
        </script>
    </body>
</html>